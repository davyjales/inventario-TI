# Correção do Botão "Mostrar Alterações" - Histórico

## Problema
O botão "Mostrar Alterações" está exibindo "campo_id" em vez do nome legível do campo.

## Análise
- changed_fields está sendo salvo corretamente com estrutura: `{"campo_4":{"campo":"Hostname","de":"adsd","para":"adsds"}}`
- Problema está na lógica de enriquecimento e exibição dos dados
- Precisa mapear campo_id para nome_exibicao corretamente

## Plano de Correção

### 1. Corrigir lógica de enriquecimento no historicoService.js
- [ ] Verificar se a query para buscar nome_exibicao está funcionando
- [ ] Garantir que o mapeamento campo_id → nome_exibicao está correto
- [ ] Ajustar estrutura de dados retornados para o frontend

### 2. Ajustar renderização no js/historico.js
- [ ] Simplificar lógica de processamento de mudanças
- [ ] Usar dados já enriquecidos do backend
- [ ] Garantir que nomes legíveis sejam exibidos no botão

### 3. Testar correção
- [ ] Verificar se botão agora mostra "Hostname de adsd para adsds"
- [ ] Testar com diferentes tipos de campos
- [ ] Validar compatibilidade com dados existentes

## Status: Em andamento
